{% extends "base.html" %}

{% block content %}
<div class="min-h-screen bg-gradient-to-br from-purple-50 via-white to-indigo-50 flex items-center justify-center px-4 py-12 animate-fade-in">
  <div class="w-full max-w-6xl">
    
    <!-- Main Container -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-0 rounded-2xl shadow-2xl overflow-hidden bg-white animate-scale-in">
      
      <!-- Left Side - Hero Section (Hidden on Mobile) -->
      <div class="hidden lg:block relative bg-gradient-to-br from-purple-600 to-indigo-700 overflow-hidden animate-slide-left">
        
        <!-- Background Image with Overlay -->
        <img 
          src="{{ url_for('static', filename='images/loyalty_program_illustration_1769616367866.png') }}"
          alt="Loyalty Rewards" 
          class="absolute inset-0 w-full h-full object-cover opacity-40 hover:opacity-50 transition-opacity duration-500"
        >
        
        <!-- Gradient Overlay -->
        <div class="absolute inset-0 bg-gradient-to-t from-purple-900/60 via-transparent to-transparent"></div>

        <!-- Content -->
        <div class="relative h-full flex flex-col justify-between p-12">
          
          <!-- Top Content -->
          <div class="animate-fade-in" style="animation-delay: 0.3s;">
            <div class="inline-block bg-white/20 backdrop-blur-sm text-white px-4 py-2 rounded-full text-sm font-medium mb-6 hover:bg-white/30 transition-colors duration-300">
              <i class="fas fa-gift mr-2 animate-spin-slow"></i>Join Our Rewards Program
            </div>
          </div>

          <!-- Bottom Content -->
          <div class="text-white animate-fade-in" style="animation-delay: 0.4s;">
            <h2 class="text-4xl font-bold mb-6">Earn Rewards With Every Purchase</h2>
            
            <!-- Benefits Cards -->
            <div class="space-y-4">
              <div class="bg-white/10 backdrop-blur-md rounded-lg p-4 border border-white/20 flex items-start gap-3 hover:bg-white/20 hover:border-white/40 transition-all duration-300 group cursor-pointer animate-slide-up" style="animation-delay: 0.5s;">
                <i class="fas fa-star text-yellow-300 text-xl mt-1 group-hover:scale-125 transition-transform duration-300"></i>
                <div>
                  <p class="font-semibold text-white">Loyalty Tiers</p>
                  <p class="text-white/70 text-sm group-hover:text-white/90 transition-colors duration-300">Silver → Gold → Platinum</p>
                </div>
              </div>

              <div class="bg-white/10 backdrop-blur-md rounded-lg p-4 border border-white/20 flex items-start gap-3 hover:bg-white/20 hover:border-white/40 transition-all duration-300 group cursor-pointer animate-slide-up" style="animation-delay: 0.6s;">
                <i class="fas fa-percentage text-green-300 text-xl mt-1 group-hover:scale-125 transition-transform duration-300"></i>
                <div>
                  <p class="font-semibold text-white">15% Rewards</p>
                  <p class="text-white/70 text-sm group-hover:text-white/90 transition-colors duration-300">Earn points on every purchase</p>
                </div>
              </div>

              <div class="bg-white/10 backdrop-blur-md rounded-lg p-4 border border-white/20 flex items-start gap-3 hover:bg-white/20 hover:border-white/40 transition-all duration-300 group cursor-pointer animate-slide-up" style="animation-delay: 0.7s;">
                <i class="fas fa-gift text-pink-300 text-xl mt-1 group-hover:scale-125 transition-transform duration-300"></i>
                <div>
                  <p class="font-semibold text-white">Exclusive Perks</p>
                  <p class="text-white/70 text-sm group-hover:text-white/90 transition-colors duration-300">Unlock special discounts & deals</p>
                </div>
              </div>
            </div>

            <!-- CTA -->
            <p class="mt-8 text-white/90 text-sm animate-fade-in" style="animation-delay: 0.8s;">Join over 10,000+ members earning rewards today!</p>
          </div>

        </div>

      </div>

      <!-- Right Side - Registration Form -->
      <div class="px-6 sm:px-8 lg:px-12 py-12 lg:py-16 flex flex-col justify-center">
        
        <!-- Logo & Title with staggered animation -->
        <div class="mb-8 animate-slide-up" style="animation-delay: 0.1s;">
          <div class="inline-flex items-center gap-2 mb-6 group cursor-pointer">
            <svg class="w-8 h-8 text-purple-600 group-hover:rotate-12 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C6.5 6.253 2 8.506 2 10.972S6.5 15.691 12 15.691s10-2.253 10-5.719S17.5 6.253 12 6.253z"></path>
            </svg>
            <span class="text-lg font-bold text-gray-900 group-hover:text-purple-600 transition-colors duration-300">Saraswati Stationery</span>
          </div>
          <h1 class="text-3xl sm:text-4xl font-bold text-gray-900 mb-2">Create Your Account</h1>
          <p class="text-gray-600 text-sm sm:text-base">Join our community and start earning loyalty rewards</p>
        </div>

        <!-- Registration Form -->
        <form method="POST" class="space-y-5" id="registerForm" onsubmit="handleFormSubmit(event)">
          
          <!-- Username Field with animation -->
          <div class="animate-slide-up" style="animation-delay: 0.2s;">
            <label for="username" class="block text-sm font-semibold text-gray-700 mb-2">
              <i class="fas fa-user mr-2 text-purple-600"></i>Username
            </label>
            <input 
              type="text" 
              id="username" 
              name="username" 
              required 
              placeholder="Choose your unique username"
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 placeholder-gray-400 text-gray-900 hover:border-purple-300 input-field"
            >
            <p class="text-xs text-gray-500 mt-1">3-20 characters, letters and numbers only</p>
          </div>

          <!-- Email Field with animation -->
          <div class="animate-slide-up" style="animation-delay: 0.3s;">
            <label for="email" class="block text-sm font-semibold text-gray-700 mb-2">
              <i class="fas fa-envelope mr-2 text-purple-600"></i>Email Address
            </label>
            <input 
              type="email" 
              id="email" 
              name="email" 
              required 
              placeholder="your@email.com"
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 placeholder-gray-400 text-gray-900 hover:border-purple-300 input-field"
            >
            <p class="text-xs text-gray-500 mt-1">We'll use this to confirm your account</p>
          </div>

          <!-- Password Field with animation -->
          <div class="animate-slide-up" style="animation-delay: 0.4s;">
            <label for="password" class="block text-sm font-semibold text-gray-700 mb-2">
              <i class="fas fa-lock mr-2 text-purple-600"></i>Password
            </label>
            <input 
              type="password" 
              id="password" 
              name="password" 
              required 
              placeholder="••••••••"
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 placeholder-gray-400 text-gray-900 hover:border-purple-300 input-field"
            >
            <p class="text-xs text-gray-500 mt-1">At least 8 characters with uppercase, lowercase & numbers</p>
          </div>

          <!-- Terms & Conditions with animation -->
          <label class="flex items-start text-sm text-gray-700 cursor-pointer hover:text-purple-600 transition-colors duration-300 group animate-slide-up" style="animation-delay: 0.5s;">
            <div class="relative">
              <input type="checkbox" class="w-4 h-4 rounded border-gray-300 text-purple-600 cursor-pointer opacity-0 absolute">
              <div class="w-4 h-4 border border-gray-300 rounded group-hover:border-purple-600 group-hover:bg-purple-50 transition-all duration-300 mt-0.5"></div>
            </div>
            <span class="ml-2">I agree to the <span class="font-semibold text-purple-600">Terms & Conditions</span> and <span class="font-semibold text-purple-600">Privacy Policy</span></span>
          </label>

          <!-- Loading Spinner (hidden by default) -->
          <div id="loadingSpinner" class="hidden flex items-center justify-center">
            <div class="inline-block">
              <div class="spinner-circle-purple"></div>
            </div>
            <span class="ml-2 text-gray-600">Creating account...</span>
          </div>

          <!-- Create Account Button with animation -->
          <button 
            type="submit" 
            id="submitBtn"
            class="w-full bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-semibold py-3 rounded-lg transition-all duration-300 shadow-md hover:shadow-2xl hover:-translate-y-1 flex items-center justify-center gap-2 mt-6 group animate-slide-up button-hover"
            style="animation-delay: 0.6s;"
          >
            <i class="fas fa-user-plus group-hover:animate-bounce-icon"></i>
            <span id="btnText">Create Account</span>
          </button>
        </form>

        <!-- Divider with fade animation -->
        <div class="relative my-8 animate-slide-up" style="animation-delay: 0.7s;">
          <div class="absolute inset-0 flex items-center">
            <div class="w-full border-t border-gray-300"></div>
          </div>
          <div class="relative flex justify-center text-sm">
            <span class="px-2 bg-white text-gray-500">Already registered?</span>
          </div>
        </div>

        <!-- Sign In Link with animation -->
        <p class="text-center text-gray-600 animate-slide-up" style="animation-delay: 0.8s;">
          Sign in to your existing account
          <a href="{{ url_for('login') }}" class="text-purple-600 hover:text-purple-700 font-semibold ml-1 transition-all duration-300 hover:translate-x-1 inline-block">Log in here →</a>
        </p>

        <!-- Additional Links with staggered animation -->
        <div class="mt-6 pt-6 border-t border-gray-200 flex justify-center gap-4 text-xs text-gray-500 animate-slide-up" style="animation-delay: 0.9s;">
          <a href="{{ url_for('home') }}" class="hover:text-purple-600 transition-colors duration-300 group">
            <span class="group-hover:translate-x-0.5 inline-block transition-transform">Home</span>
          </a>
          <span>•</span>
          <a href="{{ url_for('about') }}" class="hover:text-purple-600 transition-colors duration-300 group">
            <span class="group-hover:translate-x-0.5 inline-block transition-transform">About</span>
          </a>
          <span>•</span>
          <a href="#" class="hover:text-purple-600 transition-colors duration-300 group">
            <span class="group-hover:translate-x-0.5 inline-block transition-transform">Support</span>
          </a>
        </div>

      </div>

    </div>

    <!-- Mobile Hero Message with animation -->
    <div class="lg:hidden mt-8 bg-gradient-to-r from-purple-600 to-indigo-600 rounded-xl p-6 text-white text-center animate-slide-up" style="animation-delay: 1.0s; hover:shadow-xl transition-shadow duration-300">
      <i class="fas fa-gift text-3xl mb-3 block animate-bounce-icon"></i>
      <h3 class="text-xl font-bold mb-2">Join Our Rewards Program</h3>
      <p class="text-sm text-purple-100">Earn 15% back on every purchase and unlock exclusive member benefits</p>
    </div>

  </div>
</div>

<style>
  /* Fade-in animation */
  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  /* Slide up animation */
  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Slide left animation */
  @keyframes slideLeft {
    from {
      opacity: 0;
      transform: translateX(40px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  /* Scale in animation */
  @keyframes scaleIn {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  /* Bounce icon */
  @keyframes bounceIcon {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-5px);
    }
  }

  /* Spin slow */
  @keyframes spinSlow {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }

  /* Loading spinner */
  @keyframes spin {
    to {
      transform: rotate(360deg);
    }
  }

  .animate-fade-in {
    animation: fadeIn 0.6s ease-out forwards;
    opacity: 0;
  }

  .animate-slide-up {
    animation: slideUp 0.6s ease-out forwards;
    opacity: 0;
  }

  .animate-slide-left {
    animation: slideLeft 0.6s ease-out forwards;
    opacity: 0;
  }

  .animate-scale-in {
    animation: scaleIn 0.5s ease-out forwards;
    opacity: 0;
  }

  .animate-bounce-icon {
    animation: bounceIcon 0.6s ease-in-out infinite;
  }

  .animate-spin-slow {
    animation: spinSlow 3s linear infinite;
  }

  /* Input field smooth transitions */
  .input-field {
    box-shadow: 0 0 0 0 rgba(147, 51, 234, 0);
    transition: all 0.3s ease;
  }

  .input-field:focus {
    box-shadow: 0 0 0 3px rgba(147, 51, 234, 0.1);
    transform: translateY(-2px);
  }

  /* Button hover effect with lift */
  .button-hover {
    position: relative;
    overflow: hidden;
  }

  .button-hover:hover {
    transform: translateY(-4px);
    box-shadow: 0 20px 25px -5px rgba(147, 51, 234, 0.3);
  }

  .button-hover:active {
    transform: translateY(-2px);
  }

  /* Loading spinner (purple variant) */
  .spinner-circle-purple {
    width: 20px;
    height: 20px;
    border: 3px solid rgba(147, 51, 234, 0.2);
    border-top-color: rgb(147, 51, 234);
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
  }

  /* Smooth input placeholder transitions */
  .input-field::placeholder {
    transition: color 0.3s ease;
  }

  .input-field:focus::placeholder {
    color: rgba(107, 114, 128, 0.3);
  }
</style>

<script>
  // Handle form submission with loading state
  function handleFormSubmit(event) {
    const form = event.target;
    const submitBtn = document.getElementById('submitBtn');
    const loadingSpinner = document.getElementById('loadingSpinner');
    const btnText = document.getElementById('btnText');
    
    // Show loading state
    submitBtn.disabled = true;
    submitBtn.classList.add('opacity-75', 'cursor-not-allowed');
    loadingSpinner.classList.remove('hidden');
    btnText.classList.add('hidden');
    
    // Allow form submission to proceed
    // The loading state will remain visible during POST
  }

  // Add focus animation to all inputs
  document.querySelectorAll('.input-field').forEach(input => {
    input.addEventListener('focus', function() {
      this.parentElement.parentElement.style.animation = 'none';
      this.parentElement.parentElement.offsetHeight; // Trigger reflow
    });
  });

  // Add ripple effect on button click
  document.getElementById('submitBtn')?.addEventListener('mousedown', function(e) {
    const ripple = document.createElement('span');
    const rect = this.getBoundingClientRect();
    const size = Math.max(rect.width, rect.height);
    const x = e.clientX - rect.left - size / 2;
    const y = e.clientY - rect.top - size / 2;
    
    ripple.style.width = ripple.style.height = size + 'px';
    ripple.style.left = x + 'px';
    ripple.style.top = y + 'px';
  });
</script>
{% endblock %}